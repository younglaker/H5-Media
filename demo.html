<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<style type="text/css">
	#camera-area, #screenshot {
		width: 400px;
		height: 300px;
		border: 1px solid #000;
	}
	#speach {
		width: 30px;
		height: 30px;
		border: 0;
		background: url(img/siri.png) no-repeat;
	}
</style>
</head>

<body>
	<video id="camera-area" autoplay ></video>
	<img id="screenshot" src="">
	<canvas style="display:none;" id="screenshot-canvas"></canvas>
	<div>
		<button id="btn-open">open</button>
		<button id="btn-pause">pause</button>
		<button id="btn-resume">resume</button>
		<button id="btn-close">close</button>
		<button id="btn-shot">shot</button>
	</div>
	<p>
		<a href="javascript:void();"><input id="speach" x-webkit-speech onwebkitspeechchange="returnSpeach(event)" value="" /></a>
	</p>
</body>
<script type="text/javascript" src="js/h5media.js"></script>
<script type="text/javascript">
	var video = document.querySelector("#camera-area");
	var obj = new H5media(video);
	obj.openVideo();

	var pause = document.querySelector("#btn-pause");
	pause.addEventListener("click", function(){
		obj.pauseVideo();
	}, false);

	var resume = document.querySelector("#btn-resume");
	resume.addEventListener("click", function(){
		obj.resumeVideo();
	}, false);
	
	var close = document.querySelector("#btn-close");
	close.addEventListener("click", function(){
		obj.closeVideo();
	}, false);

	var shot = document.querySelector("#btn-shot");
	var screenshot = document.querySelector("#screenshot");
	shot.addEventListener("click", function(){
		obj.shotTo(screenshot);
	}, false);

/*	var speach = document.querySelector("#speach");
	var sp = new H5media(speach);
	sp.speach();
	console.log(sp.currSpeach);*/

	function returnSpeach(event){
		console.log(event);
		console.log(event.results[0].utterance);
		
	}
</script>

</html>